import{a as we,b as Ae,c as Te}from"./chunk-6P5MTAT3.js";import"./chunk-TDRJEN4G.js";import{a as _e,b as Ie}from"./chunk-HSUUTGKP.js";import{a as De,b as he}from"./chunk-OXAP3N3H.js";import{a as ye}from"./chunk-TVRGOZ6Z.js";import{a as Ce}from"./chunk-LGAXEAXJ.js";import{a as j}from"./chunk-ZGEBOACG.js";import{a as ve,b as be}from"./chunk-KOIAJ6TH.js";import"./chunk-G453X5NG.js";import{d as fe,e as Se,l as ge,n as N}from"./chunk-CWKDICKV.js";import{i as Ee}from"./chunk-NYQZODR7.js";import{c as L,d as D}from"./chunk-BBS5CLCL.js";import{e as me,j as pe,r as B,t as se,u as V}from"./chunk-7W2NGOAN.js";import"./chunk-FNTIPBS5.js";import"./chunk-A3HZ2PBM.js";import"./chunk-2BOM3PMI.js";import{b as ue,d as xe}from"./chunk-RVXUJXBG.js";import"./chunk-Q2HHWBKA.js";import"./chunk-4Q3JVAKG.js";import"./chunk-MCE4IIOZ.js";import{Ea as ce,Fa as F,ca as z,ga as K}from"./chunk-F2X7M4DW.js";import"./chunk-WCGJ44IN.js";import{B as _,m as ie,o as ne,p as ae,v as le,w as re,y as oe,z as de}from"./chunk-J6775IRK.js";import{$ as v,$b as T,Cb as Y,Eb as q,Fb as Q,Gb as e,Hb as t,Ib as f,Jb as $,Kb as ee,Mb as G,Rb as b,Sb as w,Ta as a,Za as H,ac as i,bc as C,cc as r,dc as P,ec as M,fa as E,fc as O,ga as g,gc as R,hb as h,hc as te,ic as W,jc as J,nb as y,r as X,sc as d,tc as c,uc as p,v as Z,vb as I,wb as x,wc as A}from"./chunk-VDH5VFWZ.js";import"./chunk-EQDQRRRY.js";var k=class m{constructor(o,l){this.ref=o;this.dialogService=l;this.instance=this.dialogService.getInstance(this.ref),this.trabajador=this.instance.data.trabajador}instance;trabajador;static \u0275fac=function(l){return new(l||m)(H(L),H(D))};static \u0275cmp=h({type:m,selectors:[["app-comprobante-pago"]],decls:268,vars:0,consts:[[1,"flex","flex-col","gap-2"],[1,"flex","justify-center","font-bold"],[1,"flex","justify-center","font-bold","underline"],["legend","Datos de la empresa"],[1,"w-full"],[1,"border","bg-slate-700","text-slate-50","py-1","text-sm"],[1,"border","border-slate-300","text-center","text-sm"],["legend","Datos del trabajador"],["legend","Datos del trabajador  vinculados a la realaci\xF3n laboral"],[1,"flex","flex-col","gap-4"],[1,"grid","grid-cols-10","gap-3"],[1,"col-span-4"],[1,"border","bg-slate-700","text-slate-50","text-xs","py-1"],[1,"col-span-3"],["rowspan","2",1,"border","bg-slate-700","text-slate-50","text-xs","py-1"],[1,"border","border-slate-300","text-center","text-xs"],[1,"w-1/3","border","bg-slate-700","text-slate-50","text-sm","py-1"],[1,"border","border-slate-300","text-center","text-sm","align-baseline"],[1,"px-6","py-4","flex","items-start","h-full"],[1,"text-left"],[1,"text-right"],[1,"px-6","py-4"],[1,"border","bg-slate-700","text-slate-50","text-sm","py-1"],[1,"px-6","py-1","flex","justify-between","items-start","h-full"]],template:function(l,n){l&1&&(e(0,"div",0)(1,"div",1),i(2,"ART. 19 DEL DECRETO SUPREMO N\xB0 001-98-TR DEL 22-01-98"),t(),e(3,"div",2),i(4,"MES DE MARZO 2025"),t(),e(5,"p-fieldset",3)(6,"table",4)(7,"thead")(8,"tr")(9,"th",5),i(10,"RUC"),t(),e(11,"th",5),i(12,"RAZON SOCIAL"),t(),e(13,"th",5),i(14,"RUBRO DE LA EMPRESA"),t(),e(15,"th",5),i(16,"DIRECCI\xD3N"),t()()(),e(17,"tbody")(18,"tr")(19,"td",6),i(20,"12345678909"),t(),e(21,"td",6),i(22,"CORPORACI\xD3N SA"),t(),e(23,"td",6),i(24," CONSULTOR\xCDA TECNOL\xD3GICA "),t(),e(25,"td",6),i(26,"AV. PERU 1821"),t()()()()(),e(27,"p-fieldset",7)(28,"table",4)(29,"thead")(30,"tr")(31,"th",5),i(32,"C\xD3DIGO"),t(),e(33,"th",5),i(34,"NOMBRES"),t(),e(35,"th",5),i(36,"APELLIDOS"),t(),e(37,"th",5),i(38,"D.N.I."),t(),e(39,"th",5),i(40,"F. NAC."),t(),e(41,"th",5),i(42,"HIJOS"),t(),e(43,"th",5),i(44,"DIRECCI\xD3N"),t()()(),e(45,"tbody")(46,"tr")(47,"td",6),i(48,"1234"),t(),e(49,"td",6),i(50,"MARGOT"),t(),e(51,"td",6),i(52,"PIEDRAS"),t(),e(53,"td",6),i(54,"12345678"),t(),e(55,"td",6),i(56,"11-08-1990"),t(),e(57,"td",6),i(58,"2"),t(),e(59,"td",6),i(60," DIRECCI\xD3N DEL TRABAJADOR "),t()()()()(),e(61,"p-fieldset",8)(62,"div",9)(63,"table",4)(64,"thead")(65,"tr")(66,"th",5),i(67,"CARGO"),t(),e(68,"th",5),i(69,"CATEGOR\xCDA"),t(),e(70,"th",5),i(71,"PERIODO C."),t(),e(72,"th",5),i(73,"ONP"),t(),e(74,"th",5),i(75,"A.F.P."),t(),e(76,"th",5),i(77,"C.U.S.P.P."),t(),e(78,"th",5),i(79,"F. ING."),t(),e(80,"th",5),i(81,"F. CESE"),t(),e(82,"th",5),i(83,"INI. VAC."),t(),e(84,"th",5),i(85,"FIN. VAC."),t(),e(86,"th",5),i(87,"DIAS VAC."),t()()(),e(88,"tbody")(89,"tr")(90,"td",6),i(91,"REDACTOR"),t(),e(92,"td",6),i(93,"EMPLEADO"),t(),e(94,"td",6),i(95,"MENS."),t(),e(96,"td",6),i(97,"SI"),t(),e(98,"td",6),i(99,"ONP"),t(),e(100,"td",6),i(101,"0"),t(),e(102,"td",6),i(103,"04-01-2020"),t(),f(104,"td",6)(105,"td",6)(106,"td",6)(107,"td",6),t()()(),e(108,"div",10)(109,"table",11)(110,"thead")(111,"tr")(112,"th",12),i(113," D\xCDAS LABORADOS "),t(),e(114,"th",12),i(115," TOTAL HORAS LABORADAS "),t(),e(116,"th",12),i(117," HORAS EXTRAS "),t(),e(118,"th",12),i(119," D\xCDAS NO LABORADOS "),t()()(),e(120,"tbody")(121,"tr")(122,"td",6),i(123,"30"),t(),f(124,"td",6)(125,"td",6)(126,"td",6),t()()(),e(127,"table",13)(128,"thead")(129,"tr")(130,"th",14),i(131," OTRO EMPLEADOR "),t(),e(132,"th",12),i(133," IMPORTE REMUN. "),t()(),e(134,"tr")(135,"th",15),i(136,"0.00"),t()()()(),e(137,"table",13)(138,"thead")(139,"tr")(140,"th",12),i(141," CTA AHORRO DE DEP\xD3SITO "),t()()(),e(142,"tbody")(143,"tr")(144,"td",15),i(145,"123-77777777"),t()()()()(),e(146,"table",4)(147,"thead")(148,"tr")(149,"th",16),i(150," REMUNERACIONES "),t(),e(151,"th",16),i(152," RETENCIONES/DESCUENTOS "),t(),e(153,"th",16),i(154," APORTACIONES DEL EMPLEADOR "),t()()(),e(155,"tbody")(156,"tr")(157,"td",17)(158,"div",18)(159,"table",4)(160,"tbody")(161,"tr")(162,"td",19),i(163,"Sueldo computable"),t(),e(164,"td",20),i(165,"0000.00"),t()(),e(166,"tr")(167,"td",19),i(168,"Asignaci\xF3n familiar"),t(),e(169,"td",20),i(170,"0.00"),t()(),e(171,"tr")(172,"td",19),i(173,"Remuner. Vacacional"),t(),e(174,"td",20),i(175,"0.00"),t()(),e(176,"tr")(177,"td",19),i(178,"Mov. Sup. Asistencia"),t(),e(179,"td",20),i(180,"0.00"),t()(),e(181,"tr")(182,"td",19),i(183,"C.T.S."),t(),e(184,"td",20),i(185,"0.00"),t()()()()()(),e(186,"td",17)(187,"div",21)(188,"table",4)(189,"tbody")(190,"tr")(191,"td",19),i(192,"AFP Fondo"),t(),e(193,"td",20),i(194,"0.00"),t(),e(195,"td",20),i(196,"0.00%"),t()(),e(197,"tr")(198,"td",19),i(199,"AFP Comisi\xF3n"),t(),e(200,"td",20),i(201,"0.00"),t(),e(202,"td",20),i(203,"0.00%"),t()(),e(204,"tr")(205,"td",19),i(206,"AFP Seguro"),t(),e(207,"td",20),i(208,"0.00"),t(),e(209,"td",20),i(210,"0.00%"),t()(),e(211,"tr")(212,"td",19),i(213,"ONP"),t(),e(214,"td",20),i(215,"0.00"),t()(),e(216,"tr")(217,"td",19),i(218,"Faltas"),t(),e(219,"td",20),i(220,"0.00"),t()(),e(221,"tr")(222,"td",19),i(223,"Retenciones 5ta"),t(),e(224,"td",20),i(225,"0.00"),t()(),e(226,"tr")(227,"td",19),i(228,"Retenciones judiciales"),t(),e(229,"td",20),i(230,"0.00"),t()(),e(231,"tr")(232,"td",19),i(233,"Adelantos"),t(),e(234,"td",20),i(235,"0.00"),t()()()()()(),e(236,"td",17)(237,"div",18)(238,"table",4)(239,"tbody")(240,"tr")(241,"td",19),i(242,"Essalud"),t(),e(243,"td",20),i(244,"0000.00"),t()(),e(245,"tr")(246,"td",19),i(247,"S.C.T.R."),t(),f(248,"td",20),t()()()()()(),e(249,"tr")(250,"td",22)(251,"div",23)(252,"div"),i(253,"Total remuneraciones"),t(),e(254,"div"),i(255,"0,000.00"),t()()(),e(256,"td",22)(257,"div",23)(258,"div"),i(259,"Total descuentos"),t(),e(260,"div"),i(261,"0,000.00"),t()()(),e(262,"td",22)(263,"div",23)(264,"div"),i(265,"Neto a pagar"),t(),e(266,"div"),i(267,"0,000.00"),t()()()()()()()()())},dependencies:[_,F,he,De,N,V,B,Ee],encapsulation:2})};var U=class m{mesSelected;id;formData;ref=v(L);dialogService=v(D);trabajadorService=v(j);ngOnInit(){let l=this.dialogService.getInstance(this.ref).data;console.log("data",l),l&&(this.id=l.id,this.mesSelected=new Date(l.fecha),this.cargarData())}cargarData(){this.trabajadorService.findOnePagoByMonthAndIdTrabajador(this.id,this.mesSelected).subscribe({next:o=>{this.formData=o}})}static \u0275fac=function(l){return new(l||m)};static \u0275cmp=h({type:m,selectors:[["app-calculo-pago"]],decls:142,vars:126,consts:[[1,"flex","flex-col","gap-4"],[1,"flex"],[1,"flex","items-center","font-bold","w-full","justify-center","text-2xl"],[1,"border","border-slate-300","text-start","text-sm","px-3","py-1","min-w-48"],[1,"border","border-slate-300","font-bold","text-center","text-sm","px-3","py-1","min-w-24"],[1,"w-full"],["rowspan","2",1,"border","border-slate-300","text-center","text-sm","px-3","py-1"],["rowspan","2",1,"w-24","border","border-slate-300","text-center","text-sm","px-3","py-1"],["colspan","2",1,"w-48","border","border-slate-300","text-center","text-sm","px-3","py-1"],["rowspan","7",1,"w-24","border","border-slate-300","text-center","text-sm","px-3","py-1"],["rowspan","9",1,"w-24","border","border-slate-300","bg-sky-700","text-slate-50","font-bold","text-center","text-sm","px-3","py-1"],[1,"w-24","border","border-slate-300","text-center","text-sm","px-3","py-1"],[1,"border","border-slate-300","text-start","text-sm","px-3","py-2"],[1,"border","border-slate-300","text-center","text-sm","px-3","py-2"],["colspan","4",1,"border","border-slate-300","text-start","text-sm","px-3","py-2"],["colspan","4",1,"border","border-slate-300","bg-sky-700","text-slate-50","font-bold","text-center","text-sm","px-3","py-2"],[1,"border","border-slate-300","bg-sky-700","text-slate-50","font-bold","text-center","text-sm","px-3","py-2"]],template:function(l,n){l&1&&(e(0,"div",0)(1,"div",1)(2,"div",2),i(3),d(4,"date"),d(5,"uppercase"),t(),e(6,"table")(7,"tbody")(8,"tr")(9,"td",3),i(10),t(),e(11,"td",4),i(12),t()(),e(13,"tr")(14,"td",3),i(15),t(),e(16,"td",4),i(17),t()(),e(18,"tr")(19,"td",3),i(20),t(),e(21,"td",4),i(22),t()()()()(),e(23,"table",5)(24,"tbody")(25,"tr")(26,"td",6),i(27),t(),e(28,"td",7),i(29),t(),e(30,"td",8),i(31),t(),e(32,"td",7),i(33),t(),e(34,"td",9),i(35),t(),e(36,"td",9),i(37),t(),e(38,"td",10),i(39),t()(),e(40,"tr")(41,"td",11),i(42),t(),e(43,"td",11),i(44),t()(),e(45,"tr")(46,"td",12),i(47),t(),e(48,"td",13),i(49),d(50,"number"),t(),e(51,"td",13),i(52),d(53,"number"),t(),e(54,"td",13),i(55),d(56,"number"),t(),e(57,"td",13),i(58),d(59,"number"),t()(),e(60,"tr")(61,"td",12),i(62),t(),e(63,"td",13),i(64),d(65,"number"),t(),e(66,"td",13),i(67),d(68,"number"),t(),e(69,"td",13),i(70),d(71,"number"),t(),e(72,"td",13),i(73),d(74,"number"),t()(),e(75,"tr")(76,"td",12),i(77),t(),e(78,"td",13),i(79),d(80,"number"),t(),e(81,"td",13),i(82),d(83,"number"),t(),e(84,"td",13),i(85),d(86,"number"),t(),e(87,"td",13),i(88),d(89,"number"),t()(),e(90,"tr")(91,"td",12),i(92),t(),e(93,"td",13),i(94),d(95,"number"),t(),e(96,"td",13),i(97),d(98,"number"),t(),e(99,"td",13),i(100),d(101,"number"),t(),e(102,"td",13),i(103),d(104,"number"),t()(),e(105,"tr")(106,"td",14),i(107),t(),e(108,"td",13),i(109),d(110,"number"),t()(),e(111,"tr")(112,"td",14),i(113),t(),e(114,"td",13),i(115),d(116,"number"),t(),e(117,"td",6),i(118),t(),e(119,"td",6),i(120),t()(),e(121,"tr")(122,"td",14),i(123),t(),e(124,"td",13),i(125),d(126,"number"),t()(),e(127,"tr")(128,"td",15),i(129),t(),e(130,"td",16),i(131),d(132,"number"),t(),e(133,"td",16),i(134),d(135,"number"),t(),e(136,"td",16),i(137),d(138,"number"),t(),e(139,"td",16),i(140),d(141,"number"),t()()()()()),l&2&&(a(3),r(" ",c(5,55,p(4,52,n.mesSelected,"MMMM yyyy"))," "),a(7),r(" ","D\xCDAS DEL MES"," "),a(2),r(" ",n.formData==null?null:n.formData.totalDiasMes," "),a(3),r(" ","TOTAL DE D\xCDAS"," "),a(2),r(" ",n.formData==null?null:n.formData.totalDias," "),a(3),r(" ","D\xCDAS TRABAJADOS"," "),a(2),r(" ",n.formData==null?null:n.formData.diasLaborados," "),a(5),r(" ","*"," "),a(2),r(" ","DIARIAS"," "),a(2),r(" ","EXTRA"," "),a(2),r(" ","TOTAL"," "),a(2),r(" ","AFP"," "),a(2),r(" ","SIS"," "),a(2),r(" ","PAGO NETO"," "),a(3),r(" ","+25%"," "),a(2),r(" ","+35%"," "),a(3),r(" ","HORAS"," "),a(2),r(" ",p(50,57,n.formData==null?null:n.formData.horasOrdinarias,"1.2-2")," "),a(3),r(" ",p(53,60,n.formData==null?null:n.formData.horasExtra25,"1.2-2")," "),a(3),r(" ",p(56,63,n.formData==null?null:n.formData.horasExtra35,"1.2-2")," "),a(3),r(" ",p(59,66,n.formData==null?null:n.formData.horasDiarias,"1.2-2")," "),a(4),r(" ","CALCULO"," "),a(2),r(" ",p(65,69,n.formData==null?null:n.formData.salarioHora,"1.2-2")," "),a(3),r(" ",p(68,72,n.formData==null?null:n.formData.salarioHoraExtra25,"1.2-2")," "),a(3),r(" ",p(71,75,n.formData==null?null:n.formData.salarioHoraExtra35,"1.2-2")," "),a(3),r(" ",p(74,78,n.formData==null?null:n.formData.salarioHoraTotal,"1.2-2")," "),a(4),r(" ","SUELDO DIARIO"," "),a(2),r(" ",p(80,81,n.formData==null?null:n.formData.salarioDiario,"1.2-2")," "),a(3),r(" ",p(83,84,n.formData==null?null:n.formData.salarioDiarioExtra25,"1.2-2")," "),a(3),r(" ",p(86,87,n.formData==null?null:n.formData.salarioDiarioExtra35,"1.2-2")," "),a(3),r(" ",p(89,90,n.formData==null?null:n.formData.salarioDiarioTotal,"1.2-2")," "),a(4),r(" ","SUELDO DEL MES"," "),a(2),r(" ",p(95,93,n.formData==null?null:n.formData.salarioMensual,"1.2-2")," "),a(3),r(" ",p(98,96,n.formData==null?null:n.formData.salarioMesExtra25,"1.2-2")," "),a(3),r(" ",p(101,99,n.formData==null?null:n.formData.salarioMesExtra35,"1.2-2")," "),a(3),r(" ",p(104,102,n.formData==null?null:n.formData.salarioMensualTotal,"1.2-2")," "),a(4),P(" ","DESCUENTO POR FALTAS"," ( ",n.formData==null?null:n.formData.faltas," D\xCDAS ) "),a(2),r(" ",p(110,105,n.formData==null?null:n.formData.descuentoFaltas,"1.2-2")," "),a(4),P(" ","FERIADOS TRABAJADOS"," ( ",n.formData==null?null:n.formData.feriados," D\xCDAS ) "),a(2),r(" ",p(116,108,n.formData==null?null:n.formData.salarioFeriado,"1.2-2")," "),a(3),r(" ","11.37%"," "),a(2),r(" ","S/ 15.00"," "),a(3),P(" ","VACACIONES"," ( ",n.formData==null?null:n.formData.totalDiasVacaciones," D\xCDAS ) "),a(2),r(" ",p(126,111,n.formData==null?null:n.formData.salarioVacaciones,"1.2-2")," "),a(4),r(" ","SUELDO BRUTO"," "),a(2),r(" ",p(132,114,n.formData==null?null:n.formData.sueldoBruto,"1.2-2")," "),a(3),r(" ",p(135,117,n.formData==null?null:n.formData.montoAFP,"1.2-2")," "),a(3),r(" ",p(138,120,n.formData==null?null:n.formData.sis,"1.2-2")," "),a(3),r(" ",p(141,123,n.formData==null?null:n.formData.pagoNeto,"1.2-2")," "))},dependencies:[_,le,oe,re],encapsulation:2})};var Ve=()=>["nombre","apellido"],Fe=m=>[m],Ne=m=>["text-xs uppercase",m],Le=()=>[];function je(m,o){if(m&1&&(e(0,"th",28)(1,"div",28),i(2),t()()),m&2){let l=o.$implicit;x("ngClass",J(5,Fe,l.widthClass?l.widthClass:"")),I("colspan",l.colSpan)("rowspan",l.rowSpan),a(),x("ngClass",J(7,Ne,l.align?"text-"+l.align:"text-start")),a(),r(" ",l.header," ")}}function ke(m,o){if(m&1&&(e(0,"tr"),y(1,je,3,9,"th",27),t()),m&2){let l=o.$implicit;a(),x("ngForOf",l)}}function Ue(m,o){if(m&1&&y(0,ke,2,1,"tr",26),m&2){let l=o.$implicit;x("ngForOf",l)}}function He(m,o){if(m&1){let l=G();e(0,"tr")(1,"td")(2,"div",29),i(3),t()(),e(4,"td")(5,"div",30),i(6),t()(),e(7,"td")(8,"div",30),i(9),t()(),e(10,"td")(11,"div",29),i(12),t()(),e(13,"td")(14,"div",29),i(15),t()(),e(16,"td")(17,"div",29),i(18),d(19,"currency"),t()(),e(20,"td")(21,"div",29),i(22),d(23,"currency"),t()(),e(24,"td")(25,"div",29),i(26),d(27,"currency"),t()(),e(28,"td")(29,"div",29),i(30),d(31,"currency"),t()(),e(32,"td")(33,"div",29),i(34),d(35,"currency"),t()(),e(36,"td")(37,"div",31),i(38),d(39,"currency"),t()(),e(40,"td")(41,"div",29),i(42),d(43,"currency"),t()(),e(44,"td")(45,"div",29),i(46),d(47,"currency"),t()(),e(48,"td")(49,"div",29),i(50),d(51,"currency"),t()(),e(52,"td")(53,"div",29),i(54),d(55,"currency"),t()(),e(56,"td")(57,"div",29),i(58),d(59,"currency"),t()(),e(60,"td")(61,"div",29),i(62),d(63,"currency"),t()(),e(64,"td")(65,"div",32),i(66),d(67,"currency"),t()(),e(68,"td")(69,"div",33)(70,"p-button",34),b("click",function(){let u=E(l).$implicit,S=w();return g(S.getCalculoPago(u))}),f(71,"i",35),t(),e(72,"p-button",36),b("click",function(){let u=E(l).$implicit,S=w();return g(S.getComprobante(u))}),f(73,"i",35),t()()()()}if(m&2){let l=o.$implicit;a(3),C(l.identificacion),a(3),C(l.nombre),a(3),C(l.apellido),a(3),C(l.sede.nombre),a(3),C(l.cargo.nombre),a(3),r(" ",c(19,20,l.salarioMensual)," "),a(4),r(" ",c(23,22,l.salarioMesExtra25)," "),a(4),r(" ",c(27,24,l.salarioMesExtra35)," "),a(4),r(" ",c(31,26,l.salarioFeriado)," "),a(4),r(" ",c(35,28,l.salarioVacaciones)," "),a(4),r(" ",c(39,30,-l.descuentoFaltas)," "),a(4),r(" ",c(43,32,l.sueldoBruto)," "),a(4),r(" ",c(47,34,l.montoONP)," "),a(4),r(" ",c(51,36,l.montoAFP)," "),a(4),r(" ",c(55,38,l.sis)," "),a(4),r(" ",c(59,40,l.sctr)," "),a(4),r(" ",c(63,42,l.essalud)," "),a(4),r(" ",c(67,44,l.pagoNeto)," "),a(5),I("data-icon","solar:calculator-broken"),a(2),I("data-icon","material-symbols:docs-outline-rounded")}}function Ge(m,o){m&1&&(e(0,"td"),f(1,"p-skeleton"),t())}function We(m,o){if(m&1&&(e(0,"tr",38),y(1,Ge,2,0,"td",26),t()),m&2){let l=w(3);a(),x("ngForOf",l.skeletons)}}function Je(m,o){m&1&&($(0),q(1,We,2,1,"tr",38,Y),ee()),m&2&&(a(),Q(W(0,Le).constructor(4)))}function ze(m,o){m&1&&(e(0,"tr")(1,"td",39)(2,"div",40),i(3," No se encontraron registros. "),t()()())}function Ke(m,o){if(m&1&&y(0,Je,3,1,"ng-container",37)(1,ze,4,0,"ng-template",null,4,A),m&2){let l=T(2),n=w();x("ngIf",n.loadingTable)("ngIfElse",l)}}var Oe=class m{title="Vista Planilla";icon="material-symbols:list-alt-check-outline-sharp";ref;dialogService=v(D);confirmationService=v(z);messageService=v(K);sedeService=v(ye);cargoService=v(Ce);trabajadorService=v(j);fechaSelected;cols;exportColumns;dataTable=[];listaPagoMensual=[];listaSedes=[];selectedSedes=[];listaCargos=[];selectedCargos=[];loadingTable=!1;skeletons=[];ngOnInit(){this.fechaSelected=new Date("2025/04/01"),this.cols=[[{field:"ruc",header:"RUC",align:"center",rowSpan:"2"},{field:"nombre",header:"Nombre",rowSpan:"2"},{field:"apellido",header:"Apellido",rowSpan:"2"},{field:"sede",header:"Edificio",align:"center",rowSpan:"2"},{field:"cargo",header:"Cargo",align:"center",rowSpan:"2"},{field:"sueldoBasico",header:"Sueldo b\xE1sico",align:"center",rowSpan:"2"},{field:"",header:"Horas extra",align:"center",colSpan:"2"},{field:"feriados",header:"Feriados",align:"center",rowSpan:"2"},{field:"salarioVacaciones",header:"Vacaciones",align:"center",rowSpan:"2"},{field:"faltas",header:"Faltas",align:"center",rowSpan:"2"},{field:"sueldoBruto",header:"Sueldo bruto",align:"center",rowSpan:"2"},{field:"onp",header:"ONP",align:"center",rowSpan:"2"},{field:"afp",header:"AFP",align:"center",rowSpan:"2"},{field:"sis",header:"SIS",align:"center",rowSpan:"2"},{field:"sctr",header:"SCTR",align:"center",rowSpan:"2"},{field:"essalud",header:"ESSALUD",align:"center",rowSpan:"2"},{field:"total",header:"Total a pagar",align:"center",rowSpan:"2"},{field:"",header:"Acciones",align:"center",rowSpan:"2",widthClass:"!w-36"}],[{field:"horasExtra25",header:"25%",align:"center"},{field:"horasExtra35",header:"35%",align:"center"}]],this.skeletons=Array(this.cols[0].map(o=>o.colSpan??"1").map(o=>parseInt(o)).reduce((o,l)=>o+l,0)),this.exportColumns=this.cols.flatMap(o=>o).filter(o=>o.field!="").map(o=>({title:o.header,dataKey:o.field})),this.cargarPagosMensuales()}cargarPagosMensuales(){this.loadingTable=!0,Z([this.sedeService.findAll(),this.cargoService.findAll()]).pipe(X(o=>(this.listaSedes=o[0],this.selectedSedes=this.listaSedes.map(l=>l.id),this.listaCargos=o[1],this.selectedCargos=this.listaCargos.map(l=>l.id),this.trabajadorService.findAllPagoByMonth(this.fechaSelected)))).subscribe({next:o=>{this.listaPagoMensual=o,this.loadingTable=!1,this.filtrar()}})}filtrar(o){this.dataTable=this.listaPagoMensual.filter(l=>this.selectedSedes.includes(l.sede.id)&&this.selectedCargos.includes(l.cargo.id))}cambiarFecha(o){this.cargarPagosMensuales()}getComprobante(o){this.dialogService.open(k,{header:"Boleta de pago",styleClass:"modal-6xl",position:"top",data:{trabajador:o},dismissableMask:!0,closable:!0})}getCalculoPago(o){this.dialogService.open(U,{header:"C\xE1lculo de pago",styleClass:"modal-4xl",data:{id:o.id,fecha:this.fechaSelected},modal:!0,dismissableMask:!0,closable:!0})}confirm(o){this.confirmationService.confirm({target:o.target,message:"\xBFEstas seguro de emitir todos los comprobantes?",header:"Confirmaci\xF3n",icon:"pi pi-info-circle",rejectLabel:"Cancel",rejectButtonProps:{label:"Cancelar",severity:"danger",outlined:!0},acceptButtonProps:{label:"Aceptar",severity:"info"},accept:()=>{this.messageService.add({severity:"success",summary:"\xA1\xC9xito!",detail:"Comprobantes enviados"})},reject:()=>{this.messageService.add({severity:"error",summary:"Rejected",detail:"You have rejected"})}})}filterGlobal(o,l){o.filterGlobal(l.value,"contains")}static \u0275fac=function(l){return new(l||m)};static \u0275cmp=h({type:m,selectors:[["app-vista-planilla"]],features:[te([z,K,D])],decls:37,vars:16,consts:[["dt",""],["header",""],["body",""],["emptymessage",""],["elseTemplate",""],[1,"flex","flex-col","h-full"],[1,"flex","flex-col","justify-center","gap-4","px-6","py-4","h-[8.5rem]"],[1,"flex","justify-between","items-center","gap-4"],[1,"flex","items-center","gap-4"],["data-inline","false",1,"iconify","icon","font-bold","text-4xl"],[1,"text-2xl","font-semibold"],[1,"flex","items-center","justify-between"],[1,"flex","items-center","gap-3"],["id","fechaInicio","view","month","dateFormat","MM yy","placeholder","Seleccionar mes","showIcon","","iconDisplay","input","styleClass","w-44","appendTo","body","pTooltip","Mes","tooltipPosition","top","tooltipStyleClass","text-sm",3,"ngModelChange","ngModel","readonlyInput"],["optionLabel","nombre","optionValue","id","placeholder","Edificios","styleClass","w-42","pTooltip","Edificios","tooltipPosition","top","tooltipStyleClass","text-sm",3,"ngModelChange","onChange","options","ngModel","maxSelectedLabels"],["optionLabel","nombre","optionValue","id","placeholder","Cargos","styleClass","w-42","pTooltip","Cargos","tooltipPosition","top","tooltipStyleClass","text-sm",3,"ngModelChange","onChange","options","ngModel","maxSelectedLabels"],["styleClass","pi pi-search"],["type","text","pInputText","","placeholder","Buscar",3,"input"],[1,"flex","items-center","gap-2"],["severity","info","size","small","styleClass","!px-3 !py-1",3,"click"],[1,"flex","justify-center","items-center","font-medium","gap-1"],["data-icon","material-symbols:share-windows-rounded","data-inline","false",1,"iconify","icon","text-lg"],["severity","info","size","small",3,"click"],["data-icon","uil:file-export","data-inline","false",1,"iconify","icon","text-lg"],[1,"flex","flex-col","h-[calc(100%","-","8.5rem)]","px-6"],["dataKey","id","stripedRows","","scrollHeight","720px","styleClass","w-full","exportFilename","planillas",3,"columns","value","scrollable","exportHeader","globalFilterFields"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngFor","ngForOf"],[3,"ngClass"],[1,"text-center","text-sm"],[1,"text-start","text-sm"],[1,"text-center","text-sm","text-red-500","min-w-20"],[1,"text-center","text-sm","min-w-20"],[1,"flex","justify-center","items-center","gap-2"],["text","","severity","warn","size","small","rounded","","styleClass","!w-10 !p-2",3,"click"],["data-inline","false",1,"iconify","icon","font-bold","text-xl"],["text","","severity","info","size","small","rounded","","styleClass","!w-10 !p-2",3,"click"],[4,"ngIf","ngIfElse"],[1,"h-12"],["colspan","100"],[1,"text-center","text-sm","font-extralight"]],template:function(l,n){if(l&1){let u=G();f(0,"p-toast")(1,"p-confirmdialog"),e(2,"div",5)(3,"div",6)(4,"div",7)(5,"div",8),f(6,"i",9),e(7,"h2",10),i(8),t()()(),e(9,"div",11)(10,"div",12)(11,"p-datepicker",13),R("ngModelChange",function(s){return E(u),O(n.fechaSelected,s)||(n.fechaSelected=s),g(s)}),b("ngModelChange",function(s){return E(u),g(n.cambiarFecha(s))}),t(),e(12,"p-multiselect",14),R("ngModelChange",function(s){return E(u),O(n.selectedSedes,s)||(n.selectedSedes=s),g(s)}),b("onChange",function(s){return E(u),g(n.filtrar(s.value))}),t(),e(13,"p-multiselect",15),R("ngModelChange",function(s){return E(u),O(n.selectedCargos,s)||(n.selectedCargos=s),g(s)}),b("onChange",function(s){return E(u),g(n.filtrar(s.value))}),t(),e(14,"p-iconfield"),f(15,"p-inputicon",16),e(16,"input",17),b("input",function(s){E(u);let Re=T(30);return g(n.filterGlobal(Re,s.target))}),t()()(),e(17,"div",18)(18,"p-button",19),b("click",function(s){return E(u),g(n.confirm(s))}),e(19,"div",20),f(20,"i",21),e(21,"div"),i(22,"EMITIR COMPROBANTE"),t()()(),e(23,"p-button",22),b("click",function(){E(u);let s=T(30);return g(s.exportCSV())}),e(24,"div",20),f(25,"i",23),e(26,"span"),i(27,"Exportar"),t()()()()()(),e(28,"div",24)(29,"p-table",25,0),y(31,Ue,1,1,"ng-template",null,1,A)(33,He,74,46,"ng-template",null,2,A)(35,Ke,3,2,"ng-template",null,3,A),t()()()}l&2&&(a(6),I("data-icon",n.icon),a(2),C(n.title),a(3),M("ngModel",n.fechaSelected),x("readonlyInput",!0),a(),x("options",n.listaSedes),M("ngModel",n.selectedSedes),x("maxSelectedLabels",2),a(),x("options",n.listaCargos),M("ngModel",n.selectedCargos),x("maxSelectedLabels",2),a(16),x("columns",n.cols)("value",n.dataTable)("scrollable",!0)("exportHeader","customExportHeader")("globalFilterFields",W(15,Ve)))},dependencies:[_,ie,ne,ae,de,we,Te,Ae,Se,fe,be,ve,Ie,_e,F,ce,N,ge,xe,ue,V,se,B,me,pe],encapsulation:2})};export{Oe as VistaPlanillaComponent};
