import{a as U,t as L}from"./chunk-7W2NGOAN.js";import{ka as K,la as h,pa as Q,sa as $,va as q}from"./chunk-F2X7M4DW.js";import{B as z,m as V,o as B,p as R,t as j}from"./chunk-J6775IRK.js";import{$ as k,Fc as S,Gb as F,Hb as D,Jb as m,Kb as f,Lb as M,Mb as N,Rb as A,Sb as r,Ta as c,U as C,V as I,Vb as y,W as w,Xb as x,Yb as T,fa as s,ga as p,hb as v,hc as E,ia as _,ib as O,lb as b,lc as P,nb as g,oa as d,wb as u}from"./chunk-VDH5VFWZ.js";var J=["input"],W=(n,l,t)=>({$implicit:n,events:l,index:t});function X(n,l){if(n&1){let t=N();m(0),F(1,"input",2),A("input",function(i){s(t);let o=r().$implicit,a=r();return p(a.onInput(i,o-1))})("focus",function(i){s(t);let o=r(2);return p(o.onInputFocus(i))})("blur",function(i){s(t);let o=r(2);return p(o.onInputBlur(i))})("paste",function(i){s(t);let o=r(2);return p(o.onPaste(i))})("keydown",function(i){s(t);let o=r(2);return p(o.onKeyDown(i))}),D(),f()}if(n&2){let t=r().$implicit,e=r();c(),u("value",e.getModelValue(t))("maxLength",t===1?e.length:1)("type",e.inputType)("pSize",e.size)("variant",e.variant)("readonly",e.readonly)("disabled",e.disabled)("tabindex",e.tabindex)("pAutoFocus",e.getAutofocus(t))("ngClass",e.styleClass)}}function Y(n,l){n&1&&M(0)}function Z(n,l){if(n&1&&(m(0),g(1,Y,1,0,"ng-container",3),f()),n&2){let t=r().$implicit,e=r();c(),u("ngTemplateOutlet",e.inputTemplate||e._inputTemplate)("ngTemplateOutletContext",P(2,W,e.getToken(t-1),e.getTemplateEvents(t-1),t))}}function tt(n,l){if(n&1&&(m(0),g(1,X,2,10,"ng-container",1)(2,Z,2,6,"ng-container",1),f()),n&2){let t=r();c(),u("ngIf",!t.inputTemplate&&!t._inputTemplate),c(),u("ngIf",t.inputTemplate||t._inputTemplate)}}var et=({dt:n})=>`
.p-inputotp {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.p-inputotp-input {
    text-align: center;
    width: 2.5rem;
}

.p-inputotp-input.p-inputtext-sm {
    text-align: center;
    width: ${n("inputotp.input.sm.width")};
}

.p-inputotp-input.p-inputtext-lg {
    text-align: center;
    width: ${n("inputotp.input.lg.width")};
}
`,nt={root:"p-inputotp p-component",pcInput:"p-inputotp-input"},G=(()=>{class n extends Q{name="inputotp";theme=et;classes=nt;static \u0275fac=(()=>{let t;return function(i){return(t||(t=_(n)))(i||n)}})();static \u0275prov=I({token:n,factory:n.\u0275fac})}return n})();var it={provide:U,useExisting:C(()=>H),multi:!0},H=(()=>{class n extends ${invalid=!1;disabled=!1;readonly=!1;variant;tabindex=null;length=4;styleClass;mask=!1;integerOnly=!1;autofocus;size;onChange=new d;onFocus=new d;onBlur=new d;inputTemplate;templates;_inputTemplate;tokens=[];onModelChange=()=>{};onModelTouched=()=>{};value;get inputMode(){return this.integerOnly?"numeric":"text"}get inputType(){return this.mask?"password":"text"}_componentStyle=k(G);ngAfterContentInit(){this.templates.forEach(t=>{switch(t.getType()){case"input":this._inputTemplate=t.template;break;default:this._inputTemplate=t.template;break}})}getToken(t){return this.tokens[t]}getTemplateEvents(t){return{input:e=>this.onInput(e,t),keydown:e=>this.onKeyDown(e),focus:e=>this.onFocus.emit(e),blur:e=>this.onBlur.emit(e),paste:e=>this.onPaste(e)}}onInput(t,e){let i=t.target.value;if(e===0&&i.length>1){this.handleOnPaste(i,t),t.stopPropagation();return}this.tokens[e]=i,this.updateModel(t),t.inputType==="deleteContentBackward"?this.moveToPrev(t):(t.inputType==="insertText"||t.inputType==="deleteContentForward")&&this.moveToNext(t)}updateModel(t){let e=this.tokens.join("");this.onModelChange(e),this.onChange.emit({originalEvent:t,value:e})}writeValue(t){t?Array.isArray(t)&&t.length>0?this.value=t.slice(0,this.length):this.value=t.toString().split("").slice(0,this.length):this.value=t,this.updateTokens(),this.cd.markForCheck()}updateTokens(){this.value!==null&&this.value!==void 0?Array.isArray(this.value)?this.tokens=[...this.value]:this.tokens=this.value.toString().split(""):this.tokens=[]}getModelValue(t){return this.tokens[t-1]||""}getAutofocus(t){return t===1?this.autofocus:!1}registerOnChange(t){this.onModelChange=t}registerOnTouched(t){this.onModelTouched=t}moveToPrev(t){let e=this.findPrevInput(t.target);e&&(e.focus(),e.select())}moveToNext(t){let e=this.findNextInput(t.target);e&&(e.focus(),e.select())}findNextInput(t){let e=t.nextElementSibling;if(e)return e.nodeName==="INPUT"?e:this.findNextInput(e)}findPrevInput(t){let e=t.previousElementSibling;if(e)return e.nodeName==="INPUT"?e:this.findPrevInput(e)}onInputFocus(t){t.target.select(),this.onFocus.emit(t)}onInputBlur(t){this.onBlur.emit(t)}onKeyDown(t){if(!(t.altKey||t.ctrlKey||t.metaKey))switch(t.code){case"ArrowLeft":this.moveToPrev(t),t.preventDefault();break;case"ArrowUp":case"ArrowDown":t.preventDefault();break;case"Backspace":t.target.value.length===0&&(this.moveToPrev(t),t.preventDefault());break;case"ArrowRight":this.moveToNext(t),t.preventDefault();break;default:(this.integerOnly&&!(Number(t.key)>=0&&Number(t.key)<=9)||this.tokens.join("").length>=this.length&&t.code!=="Delete")&&t.preventDefault();break}}onPaste(t){if(!this.disabled&&!this.readonly){let e=t.clipboardData.getData("text");e.length&&this.handleOnPaste(e,t),t.preventDefault()}}handleOnPaste(t,e){let i=t.substring(0,this.length+1);(!this.integerOnly||!isNaN(i))&&(this.tokens=i.split(""),this.updateModel(e))}getRange(t){return Array.from({length:t},(e,i)=>i+1)}trackByFn(t){return t}static \u0275fac=(()=>{let t;return function(i){return(t||(t=_(n)))(i||n)}})();static \u0275cmp=v({type:n,selectors:[["p-inputOtp"],["p-inputotp"],["p-input-otp"]],contentQueries:function(e,i,o){if(e&1&&(y(o,J,4),y(o,K,4)),e&2){let a;x(a=T())&&(i.inputTemplate=a.first),x(a=T())&&(i.templates=a)}},hostAttrs:[1,"p-inputotp","p-component"],inputs:{invalid:"invalid",disabled:"disabled",readonly:"readonly",variant:"variant",tabindex:"tabindex",length:"length",styleClass:"styleClass",mask:"mask",integerOnly:"integerOnly",autofocus:[2,"autofocus","autofocus",S],size:"size"},outputs:{onChange:"onChange",onFocus:"onFocus",onBlur:"onBlur"},features:[E([it,G]),b],decls:1,vars:2,consts:[[4,"ngFor","ngForOf","ngForTrackBy"],[4,"ngIf"],["type","text","pInputText","",1,"p-inputotp-input",3,"input","focus","blur","paste","keydown","value","maxLength","type","pSize","variant","readonly","disabled","tabindex","pAutoFocus","ngClass"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(e,i){e&1&&g(0,tt,3,2,"ng-container",0),e&2&&u("ngForOf",i.getRange(i.length))("ngForTrackBy",i.trackByFn)},dependencies:[z,V,B,R,j,L,q,h],encapsulation:2,changeDetection:0})}return n})(),wt=(()=>{class n{static \u0275fac=function(e){return new(e||n)};static \u0275mod=O({type:n});static \u0275inj=w({imports:[H,h,h]})}return n})();export{H as a,wt as b};
